<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Learning To Rank Library: LTR Client Tutorial for non-programmers</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://www.mathjax.org/mathjax/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Learning To Rank Library
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>About</span></a></li>
      <li><a href="_doc_contents.html"><span>Documentation</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="headertitle">
<div class="title">LTR Client Tutorial for non-programmers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>LTR client is an easy way to make predictions and test algorithms.</p>
<p>To use LTR client you've got to have XML-like ltr config config.cfg file.</p>
<p>Suppose I need to make some predictions for a dataset that is named test.txt basing on the marks in learn.txt dataset.</p>
<p>So we start writing the code. To indicate that this is an LTR-client source, we write:</p>
<div class="fragment"><pre class="fragment">&lt;LTR_experiment&gt;
  ***LTR-client code***
&lt;/LTR_experiment&gt;
</pre></div><p>We can configurate the LTR-client in the config section inside the LTR_experiment tags:</p>
<div class="fragment"><pre class="fragment">  &lt;config&gt;
    &lt;root_directory&gt;directory_with_files&lt;/root_directory&gt;
  &lt;/config&gt;
</pre></div><p>To load the datasets:</p>
<div class="fragment"><pre class="fragment">        &lt;data name=<span class="stringliteral">&quot;learn&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span> format=Yandex&gt;learn.txt&lt;/data&gt;
        &lt;data name=<span class="stringliteral">&quot;test&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span> format=Yandex&gt;test.txt&lt;/data&gt;
</pre></div><p>You can choose one of the following approaches: <br/>
 -listwise <br/>
 -pairwise <br/>
 -objectwise <br/>
</p>
<p>You can choose one of the following formats: <br/>
 -Yandex <br/>
 -SVMLIGHT <br/>
 -ARFF <br/>
</p>
<p><br/>
</p>
<p>Now we have to create the learner:</p>
<div class="fragment"><pre class="fragment">  &lt;learner name=<span class="stringliteral">&quot;YourName&quot;</span> type=<span class="stringliteral">&quot;TYPE_OF_LEARNER&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span>&gt;
    &lt;PARAMETER1&gt;Value1&lt;/PARAMETER1&gt;
    &lt;PARAMETER2&gt;Value2&lt;/PARAMETER2&gt;
  &lt;/learner&gt;
</pre></div><p>For example:</p>
<div class="fragment"><pre class="fragment">  &lt;learner name=<span class="stringliteral">&quot;NN2&quot;</span> type=<span class="stringliteral">&quot;NNLearner&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span>&gt;
    &lt;metric&gt;MANHATTAN_METRIC&lt;/metric&gt;
    &lt;neighbor_weighter&gt;INVERSE_POWER_DISTANCE&lt;/neighbor_weighter&gt;
    &lt;<a class="code" href="tester_8cc.html#aeb6e4801d6c571119e639107f44e7ef9">aggregator</a>&gt;SUM_AGGREGATOR&lt;/<a class="code" href="tester_8cc.html#aeb6e4801d6c571119e639107f44e7ef9">aggregator</a>&gt;
    &lt;number_of_neighbors_to_process&gt;2&lt;/number_of_neighbors_to_process&gt;
  &lt;/learner&gt;
</pre></div><p>Where the approach is one of the approaches listed above. <b>NOTE</b> that the approach of the learner must be identical to the approach in the learn and test datasets. To set the parameters please consult the documentation for every particular learner.<br/>
</p>
<p>List of learners is available on the page: <a class="el" href="_tutorial_measure_learner_scorer.html">Measures, Learners, Scorers</a></p>
<p>Now we need to create measure to minimize. It is very alike the creation of the learner:</p>
<div class="fragment"><pre class="fragment">  &lt;measure name=<span class="stringliteral">&quot;Name&quot;</span> type=<span class="stringliteral">&quot;MEASURE_TYPE&quot;</span>&gt;
    &lt;PARAMETER1&gt;Value1&lt;/PARAMETER1&gt;
    &lt;PARAMETER2&gt;Value2&lt;/PARAMETER2&gt;
  &lt;/measure&gt;
</pre></div><p>For example:</p>
<div class="fragment"><pre class="fragment">  &lt;measure name=<span class="stringliteral">&quot;ndcg&quot;</span> type=<span class="stringliteral">&quot;NDCG&quot;</span>&gt;
    &lt;NUMBER_OF_OBJECTS_TO_CONSIDER&gt;2&lt;/NUMBER_OF_OBJECTS_TO_CONSIDER&gt;
  &lt;/measure&gt;
</pre></div><p>List of measures is available on the page: <a class="el" href="_tutorial_measure_learner_scorer.html">Measures, Learners, Scorers</a></p>
<p>Now we can launch the process. To mark the dataset you need to introduce the launch section with train section inside:</p>
<div class="fragment"><pre class="fragment">  &lt;launch&gt;
    &lt;train name=<span class="stringliteral">&quot;TrainAndMark&quot;</span> data=<span class="stringliteral">&quot;learn&quot;</span> learner=<span class="stringliteral">&quot;NN2&quot;</span>&gt;
      &lt;predict&gt;test&lt;/predict&gt;
      &lt;cpp/&gt;
    &lt;/train&gt;
  &lt;/launch&gt;
</pre></div><p>Here "TrainAndMark" is a name of the train section. Learn is a name of the training dataset. LearnerName is a name of the learner that You want to use to mark the dataset. Test is the name of the dataset that You want to mark. Include &lt;cpp&gt; tag if you want to create the c++ code for your experiment.</p>
<p><br/>
<br/>
</p>
<p>To use crossvalidation and to test the algorithms, please use the crossvalidation tag inside of the launch section. Before launch tag you've got to introduce the splitter that You will use.</p>
<div class="fragment"><pre class="fragment">  &lt;splitter name=<span class="stringliteral">&quot;SplitterName&quot;</span> type=<span class="stringliteral">&quot;SplitterType&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span>&gt;
      &lt;PARAMETER1&gt;Value1&lt;/PARAMETER1&gt;
      &lt;PARAMETER2&gt;Value2&lt;/PARAMETER2&gt;
  &lt;/splitter&gt;
</pre></div><p>For example:</p>
<div class="fragment"><pre class="fragment">  &lt;splitter name=<span class="stringliteral">&quot;K_FOLD1&quot;</span> type=<span class="stringliteral">&quot;KFoldSimpleSplitter&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span>&gt;
      &lt;K&gt;2&lt;/K&gt;
  &lt;/splitter&gt;
</pre></div><p>Here the SplitterName is the name of the splitter that You will use further, SplitterType is a type of the splitter that you will use and the approach is the one of listed above.</p>
<p>At the moment the following splitters are available:</p>
<p>-KFoldSimpleSplitter <br/>
 -TKFoldSimpleSplitter <br/>
 -LeaveOneOutSimpleSplitter <br/>
</p>
<p>Now the crossvalidation section:</p>
<div class="fragment"><pre class="fragment">  &lt;launch&gt;
    &lt;crossvalidation fold=<span class="stringliteral">&quot;K_FOLD1&quot;</span>&gt;
      &lt;learner&gt;NN1&lt;/learner&gt;
      &lt;learner&gt;NN2&lt;/learner&gt;

      &lt;measure&gt;ndcg&lt;/measure&gt;

      &lt;data&gt;learn&lt;/data&gt;

    &lt;/crossvalidation&gt;
  &lt;/launch&gt;
</pre></div><p>Inside please enumerate the learners, measures and datasets that you would like to test.</p>
<p>For example for the config like:</p>
<div class="fragment"><pre class="fragment">&lt;LTR_experiment&gt;
  &lt;config&gt;
    &lt;root_directory&gt;/Users/stellar/Work/LTR_Project/qtcreator-build/tmp/&lt;/root_directory&gt;
  &lt;/config&gt;

  &lt;data name=<span class="stringliteral">&quot;learn&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span> format=<span class="stringliteral">&quot;Yandex&quot;</span>&gt;/Users/stellar/Work/LTR_Project/ltr1/data/imat2009/imat2009_learning.txt&lt;/data&gt;
  &lt;data name=<span class="stringliteral">&quot;test&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span> format=<span class="stringliteral">&quot;Yandex&quot;</span>&gt;/Users/stellar/Work/LTR_Project/ltr1/data/imat2009/imat2009_test.txt&lt;/data&gt;

  &lt;measure name=<span class="stringliteral">&quot;dcg&quot;</span> type=<span class="stringliteral">&quot;DCG&quot;</span>&gt;
    &lt;NUMBER_OF_OBJECTS_TO_CONSIDER&gt;10&lt;/NUMBER_OF_OBJECTS_TO_CONSIDER&gt;
  &lt;/measure&gt;
  &lt;measure name=<span class="stringliteral">&quot;dcg2&quot;</span> type=<span class="stringliteral">&quot;DCG&quot;</span>&gt;&lt;/measure&gt;
  &lt;measure name=<span class="stringliteral">&quot;dcg3&quot;</span> type=<span class="stringliteral">&quot;DCG&quot;</span>&gt;&lt;/measure&gt;
  &lt;measure name=<span class="stringliteral">&quot;ndcg&quot;</span> type=<span class="stringliteral">&quot;NDCG&quot;</span>&gt;
    &lt;NUMBER_OF_OBJECTS_TO_CONSIDER&gt;10&lt;/NUMBER_OF_OBJECTS_TO_CONSIDER&gt;
  &lt;/measure&gt;

  &lt;learner name=<span class="stringliteral">&quot;BF1&quot;</span> type=<span class="stringliteral">&quot;BEST_FEATURE&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span>&gt;
    &lt;measure&gt;dcg&lt;/measure&gt;
  &lt;/learner&gt;
  &lt;learner name=<span class="stringliteral">&quot;BF2&quot;</span> type=<span class="stringliteral">&quot;BEST_FEATURE&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span>&gt;
    &lt;measure&gt;ndcg&lt;/measure&gt;
  &lt;/learner&gt;
  &lt;learner name=<span class="stringliteral">&quot;GP&quot;</span> type=<span class="stringliteral">&quot;GP&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span>&gt;
    &lt;measure&gt;ndcg&lt;/measure&gt;
  &lt;/learner&gt;

  &lt;splitter name=<span class="stringliteral">&quot;K_FOLD1&quot;</span> type=<span class="stringliteral">&quot;K_FOLD&quot;</span> approach=<span class="stringliteral">&quot;listwise&quot;</span>&gt;
      &lt;K&gt;2&lt;/K&gt;
  &lt;/splitter&gt;

  &lt;launch&gt;
    &lt;train name=<span class="stringliteral">&quot;test1&quot;</span> data=<span class="stringliteral">&quot;learn&quot;</span> learner=<span class="stringliteral">&quot;BF2&quot;</span>&gt;
      &lt;predict&gt;test&lt;/predict&gt;
      &lt;cpp/&gt;
    &lt;/train&gt;
    &lt;crossvalidation fold=<span class="stringliteral">&quot;K_FOLD1&quot;</span>&gt;
      &lt;learner&gt;BF1&lt;/learner&gt;
      &lt;learner&gt;BF2&lt;/learner&gt;

      &lt;measure&gt;dcg&lt;/measure&gt;
      &lt;measure&gt;dcg2&lt;/measure&gt;
      &lt;measure&gt;dcg3&lt;/measure&gt;
      &lt;measure&gt;ndcg&lt;/measure&gt;

      &lt;data&gt;learn&lt;/data&gt;

    &lt;/crossvalidation&gt;
  &lt;/launch&gt;

&lt;/LTR_experiment&gt;
</pre></div><p>We have an output:</p>
<div class="fragment"><pre class="fragment">&lt;Very-very-very <span class="keywordtype">long</span> logger output&gt;
Oct 23 01:59:50 2012: info: 
DataSet:/Users/stellar/Work/LTR_Project_last/ltr1/data/imat2009/imat2009_learning_small.txt
Splitter:KFoldSimpleSplitter
Table ROW: Learner COLUMN: Measure
        NDCG    DCG     DCG     DCG     
BestFeatureLeaner       1       2.319   2.319   1.56546 
BestFeatureLeaner       1       2.319   2.319   1.56546
</pre></div> </div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 17 2013 12:52:40 for Learning To Rank Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
