<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Learning To Rank Library: Two kinds of object&#39;s presentations</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://www.mathjax.org/mathjax/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Learning To Rank Library
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>About</span></a></li>
      <li><a href="_doc_contents.html"><span>Documentation</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="headertitle">
<div class="title">Two kinds of object's presentations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#StandAlonePresentation">How objects are presented without data set.</a></li>
<li class="level1"><a href="#DataSetPresentation">How objects are presented in data set.</a></li>
<li class="level1"><a href="#PresentationDifferences">Differences and conflicts in two presentations.</a><ul><li class="level2"><a href="#PresentationDifferenceOperatorPush">Operator <<.</a></li>
<li class="level2"><a href="#PresentationDifferenceResize">Method resize(int).</a></li>
<li class="level2"><a href="#PresentationDifferenceOperatorAssign">Operator =.</a></li>
<li class="level2"><a href="#PresentationDifferenceLightCopy">Light copy and associated problems.</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h2><a class="anchor" id="StandAlonePresentation"></a>
How objects are presented without data set.</h2>
<p>Object is a set of features, predicted and actual labels and meta info.</p>
<p>Each feature is effectively double, so features can be presented as vector of doubles.</p>
<p>LTR library uses Eigen library to contain objects.</p>
<p>Features are contained in Eigen library vector, predicted and actual values and meta info are kept as additional values.</p>
<h2><a class="anchor" id="DataSetPresentation"></a>
How objects are presented in data set.</h2>
<p>Data set is a set of objects, or object pairs, or object lists. In all three cases it boils down to set of objects we want to keep and transform efficiently.</p>
<p>An example of transformation is PCA which uses matrix-like operations on set of objects.</p>
<p>Features of data set are kept into Eigen library matrix, predicted and actual values are kept in Eigen library vector, meta info - in std::vector&lt;MetaInfo&gt;.</p>
<p>Each object in data set is a column of features.</p>
<h2><a class="anchor" id="PresentationDifferences"></a>
Differences and conflicts in two presentations.</h2>
<p>Each object that one works with is either a stand alone object, represented as vector of features, or an object in data set, represented as column. This approaches are a bit different and they impose different behaviour of two presentation.</p>
<p>Thus we have two kinds of objects and unless you explicitly get your object from matrix like</p>
<div class="fragment"><pre class="fragment">cout &lt;&lt; data_set[i];
</pre></div><p>or explicilty create new stand alone object (all new objects are stand alone objects)</p>
<div class="fragment"><pre class="fragment">Object object;
</pre></div><p>you cannot know for sure what type of object you get.</p>
<h3><a class="anchor" id="PresentationDifferenceOperatorPush"></a>
Operator &lt;&lt;.</h3>
<p>Operator &lt;&lt; adds a feature to our object. While this code</p>
<div class="fragment"><pre class="fragment">Object obj;
obj &lt;&lt; 1.0 &lt;&lt; 2.0 &lt;&lt; 3.0;
</pre></div><p>is fine and should throw no error, this code</p>
<div class="fragment"><pre class="fragment">data_set[index] &lt;&lt; 1.0;
</pre></div><p>is unacceptable, because we would have to resize the whole matrix of features. Thus operator &lt;&lt; throws an exception if you try to use it with data set object.</p>
<h3><a class="anchor" id="PresentationDifferenceResize"></a>
Method resize(int).</h3>
<p>Method resize is prohibited in data set objects and throws an exception for the same reason as above (we shouldn't change the whole matrix just because one object wants to do so).</p>
<h3><a class="anchor" id="PresentationDifferenceOperatorAssign"></a>
Operator =.</h3>
<p>When one uses operator =, all features are deep copied into existing container.</p>
<div class="fragment"><pre class="fragment">Object object1 = data_set[0];  <span class="comment">// Here we copy values from data set to stand alone object</span>
object1 &lt;&lt; 1;  <span class="comment">// object remains stand alone, changes do not affect data set</span>

Object object2;
object2 &lt;&lt; 1.0 &lt;&lt; 2.0;  <span class="comment">// suppose data set objects have two features</span>
data_set[0] = object2;  <span class="comment">// object&#39;s features are copied into data set</span>
</pre></div><p>Use operator = freely, but keep in mind it is not a cheap operation.</p>
<h3><a class="anchor" id="PresentationDifferenceLightCopy"></a>
Light copy and associated problems.</h3>
<p>If you want to do operations with given object under another name, class <a class="el" href="classltr_1_1_object.html" title="Base class for storing information in a Dataset. An object consist of feature vector and meta informa...">Object</a> has method </p>
<div class="fragment"><pre class="fragment"><span class="keywordtype">void</span> lightCopyFrom(Object&amp;);
</pre></div><p>This method links given object to the one we use with all its properties.</p>
<div class="fragment"><pre class="fragment">Object object1;
Object object2;
Object object3;

object1.lightCopyFrom(data_set[0]);  <span class="comment">// Now object1 is a data set object</span>
object2 &lt;&lt; 0.0 &lt;&lt; 0.0;
object1 = object2;  <span class="comment">// object2 features are copied into data_set[0]</span>
object1 &lt;&lt; 1.0;  <span class="comment">// this code throws an exception</span>

data_set[0].lightCopyFrom(object3);  <span class="comment">// this code throws an exception, because we&#39;d have to remove data set object to do this.</span>
object1.lightCopyFrom(object3);  <span class="comment">// this code throws an exception too!!!</span>
</pre></div> </div></div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 9 2013 17:18:33 for Learning To Rank Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
