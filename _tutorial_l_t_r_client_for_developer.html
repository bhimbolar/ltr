<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Learning To Rank Library: LTR Client tutorial for developer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script src="http://www.mathjax.org/mathjax/MathJax.js">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Learning To Rank Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>LTR Client tutorial for developer </h1>  </div>
</div>
<div class="contents">
<div class="textblock"><p>To work with LTR user must create configuration file. Then config will be processed by LTR Client and the program will start to work.</p>
<p>LTR config is simple XML file, where user describes the experiment.</p>
<h2><a class="anchor" id="RegisteringNewClass"></a>
How to register new class</h2>
<p>If you have created some new class, you can easily make it available to use in LTR client.</p>
<p>First of all your class must be inherited from <a class="el" href="classltr_1_1_parameterized.html">Parameterized</a> interface and it must have constructor with <a class="el" href="classltr_1_1_parameters_container.html" title="This class is a storage for parameters of different types. Is able to store POD-type parameters and u...">ParametersContainer</a> argument.</p>
<p>Then you just need to register new class in the file register.h</p>
<p>Registration can be done with a help of macros. There are 5 different registration macros.</p>
<p>4 macros are used for registration of such classes, that have TElement template parameter (learners, splitters and measures)</p>
<p>And one macro is used for registration classes that have no such parameter.</p>
<p>Every macro must receive two arguments. First - the name of the base class and the second is the name of the derived class.</p>
<p>Macro | Description -----------------------|-------------------------------------------------------------- REGISTER | Registers class that has no TElement template parameter REGISTER_POINTWISE | Registers class with pointwise approach (<a class="el" href="classltr_1_1_object.html" title="Base class for storing information in a Dataset. An object consist of feature vector and meta informa...">Object</a> elements) REGISTER_PAIRWISE | Registers class with pairwise approach (<a class="el" href="classltr_1_1_object_pair.html" title="The class stores a pair of two objects. The container for two objects, can be stored in DataSet...">ObjectPair</a> elements) REGISTER_LISTWISE | Registers class with listwise approach (<a class="el" href="classltr_1_1_object_list.html">ObjectList</a> elements) REGISTER_EVERY_WISE | Registers class with every approach</p>
<p>Here is an example of registration of some classes: ~~~~~~~~~~~~~~~{.cpp} REGISTER(Aggregator, VoteAggregator); REGISTER_EVERY_WISE(Splitter, KFoldSimpleSplitter); REGISTER_POINTWISE(Learner, LinearLearner); ~~~~~~~~~~~~~~~</p>
<h2><a class="anchor" id="HowItWorks"></a>
How LTR Client works</h2>
<p>The main class of client is LtrClient.</p>
<p>It parses config with the help of ConfigParser.</p>
<p>If LtrClient doesn't find any errors in the config, it creates all objects that were requested in config and starts to process the experiment.</p>
<h3><a class="anchor" id="Factory"></a>
Factory</h3>
<p>First of all there is a Factory object. In the beggining of work it registers all classes according to register.h file.</p>
<p>Registration of new class creates a pointer to the Creator with recieved template parameters (Base class and derived class) and adds this pointer to the hashtable.</p>
<p>Creator is simple class that has only one method - Creator::create.</p>
<p>When LtrClient needs to create some object declared in the config, it calls Creator::create method.</p>
<p>This method returns requested object casted to boost::any.</p>
<h3><a class="anchor" id="ConfigParser"></a>
Config Parser</h3>
<p>LtrClient contains ConfigParser object. This object parses recieved XML config file. The parsing occurs with the help of TinyXML library.</p>
<p>During the config processing, ConfigParser calls different parsers depending on detected tags.</p>
<p>Parser | Description ------------------------|------------------------------------------------------------------ TOnDataTag | handles dataset tag (data) TOnParameterTag | parses the parameters of any parameterized tag OnGeneralParameterized | handles the general xml token OnCVLearnerTag | handles crossvalidation tag OnCVMeasureTag | handles measure inside the crossvalidator XML instance OnCVDataTag | handles dataset tag (data) inside the crossvalidator XML instance OnCrossvalidationTag | handles crossvalidation tag OnPredictTag | handles predict tag OnCppGenTag | handles cpp tag OnTrainTag | handles train tag OnLaunchTag | handles launch tag </p>
</div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Tue Oct 16 2012 11:23:05 for Learning To Rank Library by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
